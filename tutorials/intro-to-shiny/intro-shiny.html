<!DOCTYPE html>
<html lang="en"><head>
<script src="intro-shiny_files/libs/clipboard/clipboard.min.js"></script>
<script src="intro-shiny_files/libs/quarto-html/tabby.min.js"></script>
<script src="intro-shiny_files/libs/quarto-html/popper.min.js"></script>
<script src="intro-shiny_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="intro-shiny_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="intro-shiny_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="intro-shiny_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="intro-shiny_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.4.376">

  <meta name="author" content="Colton Gearhart">
  <meta name="dcterms.date" content="2023-11-24">
  <title>Introduction to Shiny</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="intro-shiny_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="intro-shiny_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="intro-shiny_files/libs/revealjs/dist/theme/quarto.css">
  <link href="intro-shiny_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="intro-shiny_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="intro-shiny_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="intro-shiny_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Introduction to Shiny</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Colton Gearhart 
</div>
</div>
</div>

  <p class="date">2023-11-24</p>
</section>
<section id="resources" class="slide level2">
<h2>Resources</h2>
<p>These slides cover an assortment of topics from <a href="https://mastering-shiny.org/index.html">Mastering Shiny</a> by Hadley Wickham.</p>
<p><a href="https://mastering-shiny.org/index.html"><img data-src="images/mastering-shiny.png" style="width:20.0%"></a></p>
</section>
<section id="so-what-is-shiny" class="slide level2">
<h2>So what is Shiny?</h2>
<div id="fig-539a35d47e664c97a50115a146a7f1bd-1" class="quarto-figure quarto-figure-center" width="500px">
<figure class="quarto-float quarto-float-fig">
<div>
<img data-src="images/shinys.png" id="fig-539a35d47e664c97a50115a146a7f1bd-1" width="500">
</div>
</figure>
</div>
<div class="fragment">
<blockquote>
<p>Shiny is an open source R package that provides an elegant and powerful web framework for building web applications using R.</p>
</blockquote>
</div>
<div class="fragment">
<blockquote>
<p>Shiny helps you turn your analyses into interactive web applications without requiring HTML, CSS, or JavaScript knowledge.</p>
</blockquote>
</div>
<div class="fragment">
<blockquote>
<p>shinyuieditor lets us build Shiny application UIs by dragging-and-dropping. Generates clean and proper code as you build.</p>
</blockquote>
</div>
</section>
<section id="demo" class="slide level2">
<h2>Demo</h2>
<blockquote>
<p>Our goal is to be able to have an interactive tool that allows our intended audience to have a deep look at the data, rather than just a single snapshot that we provide.</p>
</blockquote>
<div class="layout-sidebar layout-sidebar-left">
<div class="cell panel-sidebar">
<div class="cell-output-display">
<h2>Shiny Iris Explorer App!</h2>
</div>
<div class="cell-output-display no-overflow-x">
<div class="form-group shiny-input-container">
<label class="control-label" id="yvar-label" for="yvar">Choose Y Variable</label>
<div>
<select id="yvar" class="shiny-input-select"><option value="Sepal.Length" selected="">Sepal.Length</option>
<option value="Sepal.Width">Sepal.Width</option>
<option value="Petal.Length">Petal.Length</option>
<option value="Petal.Width">Petal.Width</option></select>
<script type="application/json" data-for="yvar" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
</div>
<div class="cell-output-display no-overflow-x">
<div class="form-group shiny-input-container">
<label class="control-label" id="xvar-label" for="xvar">Choose X Variable</label>
<div>
<select id="xvar" class="shiny-input-select"><option value="Sepal.Length">Sepal.Length</option>
<option value="Sepal.Width" selected="">Sepal.Width</option>
<option value="Petal.Length">Petal.Length</option>
<option value="Petal.Width">Petal.Width</option></select>
<script type="application/json" data-for="xvar" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
</div>
<div class="cell-output-display">
<div class="form-group shiny-input-container">
<div class="checkbox">
<label>
<input id="species" type="checkbox" class="shiny-input-checkbox" checked="checked">
<span>Color by Species</span>
</label>
</div>
</div>
</div>
</div>
<div class="cell panel-fill">
<div class="cell-output-display">
<div class="shiny-plot-output html-fill-item" id="plot1" style="width:100%;height:400px;"></div>
</div>
</div>
</div>
</section>
<section id="big-picture" class="slide level2">
<h2>Big picture</h2>
<p>Shiny can be very frustrating :(</p>
<div class="fragment">
<p>But we can make it better with a smart approach!</p>
</div>
<div class="fragment">
<ol type="1">
<li>The first step is understanding the data, cleaning the data, and the story that we want to tell (i.e.&nbsp;which plots are worth building into a dynamic image).</li>
</ol>
<ul>
<li>For this lesson, we are skipping to right after this step.</li>
</ul>
</div>
<div class="fragment">
<ol start="2" type="1">
<li>The next step is to think about how we can hand over the control to the user without just giving them our code and telling them to manually change it.</li>
</ol>
<ul>
<li><p>We want an intuitive way for the user to explore and click through different images (i.e.&nbsp;the interface).</p></li>
<li><p>It’s a good idea to sketch out on paper what we want the interface to look like (so what the plot should be and the different controls, and psuedocode structure, etc.).</p></li>
</ul>
</div>
</section>
<section id="sketches" class="slide level2">
<h2>Sketches</h2>
<div id="fig-539a35d47e664c97a50115a146a7f1bd-2" class="quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div>
<img data-src="images/app-iris.png" id="fig-539a35d47e664c97a50115a146a7f1bd-2">
</div>
</figure>
</div>
</section>
<section id="sketches-1" class="slide level2">
<h2>Sketches</h2>
<div id="fig-539a35d47e664c97a50115a146a7f1bd-3" class="quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div>
<img data-src="images/app-simulation.png" id="fig-539a35d47e664c97a50115a146a7f1bd-3">
</div>
</figure>
</div>
</section>
<section id="how-shiny-works" class="slide level2 smaller">
<h2>How Shiny works</h2>
<p>Shiny uses <strong>reactive programming</strong> to automatically update outputs when inputs change.</p>
<div class="fragment">
<blockquote>
<h3 id="user-interface-ui">User interface (UI)</h3>
</blockquote>
<p>UI defines how your app <em>looks</em>.</p>
<ul>
<li>It is running java script.</li>
<li>When something is clicked, it bundles peice of data (e.g.&nbsp;inputs) and sends it off to the server.</li>
</ul>
</div>
<div class="fragment">
<blockquote>
<h3 id="server">Server</h3>
</blockquote>
<p>The server defines how your app <em>works</em>.</p>
<ul>
<li>It is then running R in the background.</li>
<li>Once the server receives the inputs, it then modifies the code to include the sent inputs</li>
<li>Then then reruns the code and gives it to the output object, which gets sent back to the UI where it re-renders the output object.</li>
</ul>
</div>
<div class="fragment">
<blockquote>
<h3 id="reactive-loop">Reactive loop</h3>
</blockquote>
<p>So essentially, Shiny implements a big listening loop.</p>
<ul>
<li>When a user changes something, a message is sent to the server.</li>
<li>And it reruns the necessary code and sends it back to update the display.</li>
</ul>
</div>
<div class="fragment">
<p>So we need to start thinking about partitioning our design process into what the user sees and how to get it with code.</p>
</div>
</section>
<section id="your-first-shiny-app" class="slide level2 smaller">
<h2>Your first Shiny app</h2>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="do">### ----- Load packages ----</span></span>
<span id="cb1-2"><a href="#cb1-2"></a></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">library</span>(shiny)</span>
<span id="cb1-4"><a href="#cb1-4"></a></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="do">### ---- Define UI ----</span></span>
<span id="cb1-6"><a href="#cb1-6"></a></span>
<span id="cb1-7"><a href="#cb1-7"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb1-8"><a href="#cb1-8"></a>  <span class="st">"Hello, world!"</span></span>
<span id="cb1-9"><a href="#cb1-9"></a>)</span>
<span id="cb1-10"><a href="#cb1-10"></a></span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="do">### ---- Define server ----</span></span>
<span id="cb1-12"><a href="#cb1-12"></a></span>
<span id="cb1-13"><a href="#cb1-13"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb1-14"><a href="#cb1-14"></a>}</span>
<span id="cb1-15"><a href="#cb1-15"></a></span>
<span id="cb1-16"><a href="#cb1-16"></a><span class="do">### ---- Run app ----</span></span>
<span id="cb1-17"><a href="#cb1-17"></a></span>
<span id="cb1-18"><a href="#cb1-18"></a><span class="fu">shinyApp</span>(ui, server)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:60%;">
<div id="fig-539a35d47e664c97a50115a146a7f1bd-4" class="quarto-figure quarto-figure-center" width="60%">
<figure class="quarto-float quarto-float-fig">
<div>
<img data-src="images/first-shiny-app.png" id="fig-539a35d47e664c97a50115a146a7f1bd-4" style="width:60.0%">
</div>
</figure>
</div>
</div>
</div>
<ol type="1">
<li><p>It calls <code>library(shiny)</code> to load the shiny package.</p></li>
<li><p>It defines the user interface, the HTML webpage that humans interact with. In this case, it’s a page containing the words “Hello, world!”.</p></li>
<li><p>It specifies the behaviour of our app by defining a server function. It’s currently empty, so our app doesn’t do anything, but we’ll be back to revisit this shortly.</p></li>
<li><p>It executes <code>shinyApp(ui, server)</code> to construct and start a Shiny application from UI and server.</p></li>
</ol>
</section>
<section id="adding-ui-controls" class="slide level2 smaller">
<h2>Adding UI controls</h2>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="do">### ----- Load packages ----</span></span>
<span id="cb2-2"><a href="#cb2-2"></a></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="fu">library</span>(shiny)</span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-5"><a href="#cb2-5"></a></span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="do">### ---- Define UI ----</span></span>
<span id="cb2-7"><a href="#cb2-7"></a></span>
<span id="cb2-8"><a href="#cb2-8"></a><span class="co"># create vector of variable names</span></span>
<span id="cb2-9"><a href="#cb2-9"></a><span class="co"># -&gt; take out the categorical variables</span></span>
<span id="cb2-10"><a href="#cb2-10"></a>vars <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(<span class="fu">names</span>(iris), <span class="st">"Species"</span>)</span>
<span id="cb2-11"><a href="#cb2-11"></a></span>
<span id="cb2-12"><a href="#cb2-12"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb2-13"><a href="#cb2-13"></a></span>
<span id="cb2-14"><a href="#cb2-14"></a>  <span class="fu">titlePanel</span>(<span class="at">title =</span> <span class="st">"Shiny Iris Explorer App!"</span>),</span>
<span id="cb2-15"><a href="#cb2-15"></a>  </span>
<span id="cb2-16"><a href="#cb2-16"></a>  <span class="fu">sidebarPanel</span>(</span>
<span id="cb2-17"><a href="#cb2-17"></a>  </span>
<span id="cb2-18"><a href="#cb2-18"></a>    <span class="co"># create dropdowns of variable names to plot</span></span>
<span id="cb2-19"><a href="#cb2-19"></a>    <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">"yvar"</span>,</span>
<span id="cb2-20"><a href="#cb2-20"></a>                <span class="at">label =</span> <span class="st">"Choose Y Variable"</span>,</span>
<span id="cb2-21"><a href="#cb2-21"></a>                <span class="at">choices =</span> vars),</span>
<span id="cb2-22"><a href="#cb2-22"></a>    <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">"xvar"</span>,</span>
<span id="cb2-23"><a href="#cb2-23"></a>                <span class="at">label =</span> <span class="st">"Choose X Variable"</span>,</span>
<span id="cb2-24"><a href="#cb2-24"></a>                <span class="at">choices =</span> vars,</span>
<span id="cb2-25"><a href="#cb2-25"></a>                <span class="at">selected =</span> vars[[<span class="dv">2</span>]]),</span>
<span id="cb2-26"><a href="#cb2-26"></a>      </span>
<span id="cb2-27"><a href="#cb2-27"></a>    <span class="co"># create checkbox to optionally color by a categorical variable</span></span>
<span id="cb2-28"><a href="#cb2-28"></a>    <span class="fu">checkboxInput</span>(<span class="at">inputId =</span> <span class="st">"species"</span>,</span>
<span id="cb2-29"><a href="#cb2-29"></a>                  <span class="at">label =</span> <span class="st">"Color by Species"</span>,</span>
<span id="cb2-30"><a href="#cb2-30"></a>                  <span class="at">value =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-31"><a href="#cb2-31"></a>  ),</span>
<span id="cb2-32"><a href="#cb2-32"></a>  </span>
<span id="cb2-33"><a href="#cb2-33"></a>  <span class="co"># create spot for plot</span></span>
<span id="cb2-34"><a href="#cb2-34"></a>  <span class="fu">mainPanel</span>(</span>
<span id="cb2-35"><a href="#cb2-35"></a>    <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"plot1"</span>)</span>
<span id="cb2-36"><a href="#cb2-36"></a>  )</span>
<span id="cb2-37"><a href="#cb2-37"></a>)</span>
<span id="cb2-38"><a href="#cb2-38"></a></span>
<span id="cb2-39"><a href="#cb2-39"></a><span class="do">### ---- Define server ----</span></span>
<span id="cb2-40"><a href="#cb2-40"></a></span>
<span id="cb2-41"><a href="#cb2-41"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb2-42"><a href="#cb2-42"></a>}</span>
<span id="cb2-43"><a href="#cb2-43"></a></span>
<span id="cb2-44"><a href="#cb2-44"></a><span class="do">### ---- Run app ----</span></span>
<span id="cb2-45"><a href="#cb2-45"></a></span>
<span id="cb2-46"><a href="#cb2-46"></a><span class="fu">shinyApp</span>(ui, server)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:60%;">
<div id="fig-539a35d47e664c97a50115a146a7f1bd-5" class="quarto-figure quarto-figure-center" width="60%">
<figure class="quarto-float quarto-float-fig">
<div>
<img data-src="images/iris-explorer-app-ui-only.png" id="fig-539a35d47e664c97a50115a146a7f1bd-5" style="width:60.0%">
</div>
</figure>
</div>
</div>
</div>
<p><code>fluidPage()</code> is one way to show the UI.</p>
<ul>
<li><p>It is a <strong>layout function</strong> that sets up the basic visual structure of the page. The left hand side is where the sidebar / controls go and output goes on the right.</p></li>
<li><p><code>fluidPage()</code> is a big nested function. So all of the arguments need to be separated by commas.</p></li>
</ul>
<p><code>selectInput()</code> is an <strong>input control</strong> that lets the user interact with the app by providing a value.</p>
<ul>
<li>Other input controls (widgets) and their code can be hound here: <a href="https://shiny.posit.co/r/gallery/widgets/widget-gallery/" class="uri">https://shiny.posit.co/r/gallery/widgets/widget-gallery/</a>.</li>
</ul>
<p><code>mainPanel()</code> creates a placeholder for a plot. To actually render a plot that we have made, we need to add code to create the plot in server function.</p>
</section>
<section id="adding-content" class="slide level2 smaller">
<h2>Adding content</h2>
<blockquote>
<h3 id="good-strategy-part-1">Good strategy: Part 1</h3>
</blockquote>
<p>First we can put in the static plot that we made to make sure that it worked.</p>
<p>Replace your empty <code>server</code> function with the following code:</p>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="do">### ---- Define server ----</span></span>
<span id="cb3-2"><a href="#cb3-2"></a></span>
<span id="cb3-3"><a href="#cb3-3"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb3-4"><a href="#cb3-4"></a>  </span>
<span id="cb3-5"><a href="#cb3-5"></a>  <span class="co"># create static plot</span></span>
<span id="cb3-6"><a href="#cb3-6"></a>  output<span class="sc">$</span>plot1 <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>(</span>
<span id="cb3-7"><a href="#cb3-7"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb3-8"><a href="#cb3-8"></a>      <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> Sepal.Width,</span>
<span id="cb3-9"><a href="#cb3-9"></a>                     <span class="at">y =</span> Sepal.Length),</span>
<span id="cb3-10"><a href="#cb3-10"></a>                 <span class="at">data =</span> iris) <span class="sc">+</span></span>
<span id="cb3-11"><a href="#cb3-11"></a>      <span class="fu">theme_bw</span>()</span>
<span id="cb3-12"><a href="#cb3-12"></a>  )</span>
<span id="cb3-13"><a href="#cb3-13"></a>  </span>
<span id="cb3-14"><a href="#cb3-14"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:60%;">
<div id="fig-539a35d47e664c97a50115a146a7f1bd-6" class="quarto-figure quarto-figure-center" width="80%">
<figure class="quarto-float quarto-float-fig">
<div>
<img data-src="images/iris-explorer-app-server-static.png" id="fig-539a35d47e664c97a50115a146a7f1bd-6" style="width:80.0%">
</div>
</figure>
</div>
</div>
</div>
<p>Because of the reactive programming, <code>server &lt;- function(input, output){}</code> is where we tell Shiny <em>how</em> to perform a computation (rather than ordering Shiny to actually go do it).</p>
<ul>
<li>So we are essentially telling Shiny how to fill in the plot outputs in the app by providing the “recipes” for those outputs.</li>
</ul>
<p>The left-hand side of the assignment operator (<code>&lt;-</code>), <code>output$ID</code>, indicates that you’re providing the recipe for the Shiny output with that ID.</p>
<p>The right-hand side of the assignment uses a specific render function to wrap some code that you provide.</p>
<ul>
<li><p>Each <code>render{Type}</code> function is designed to produce a particular type of output (e.g.&nbsp;text, tables, and plots), and is often paired with a <code>{type}Output</code> function.</p></li>
<li><p>For example, in this app, <code>renderPlot()</code> is paired with <code>plotOutput()</code> to display a plot.</p></li>
</ul>
</section>
<section id="adding-behavior" class="slide level2 smaller">
<h2>Adding behavior</h2>
<p>When we change an X variable in the UI, the plot didn’t change because the variable names were hardcoded and there were no connections to facilitate the change.</p>
<blockquote>
<h3 id="good-strategy-part-2">Good strategy: Part 2</h3>
</blockquote>
<p>We can continue our Shiny app development by incorporating the user input.</p>
<p>Modify your <code>server</code> function to the following:</p>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="do">### ---- Define server ----</span></span>
<span id="cb4-2"><a href="#cb4-2"></a></span>
<span id="cb4-3"><a href="#cb4-3"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb4-4"><a href="#cb4-4"></a></span>
<span id="cb4-5"><a href="#cb4-5"></a>  <span class="co"># create dynamic plot</span></span>
<span id="cb4-6"><a href="#cb4-6"></a>  <span class="co"># -&gt; variables selected based on user input</span></span>
<span id="cb4-7"><a href="#cb4-7"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb4-8"><a href="#cb4-8"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> .data[[input<span class="sc">$</span>xvar]],</span>
<span id="cb4-9"><a href="#cb4-9"></a>                   <span class="at">y =</span> .data[[input<span class="sc">$</span>yvar]]),</span>
<span id="cb4-10"><a href="#cb4-10"></a>               <span class="at">data =</span> iris) <span class="sc">+</span></span>
<span id="cb4-11"><a href="#cb4-11"></a>    <span class="fu">theme_bw</span>()</span>
<span id="cb4-12"><a href="#cb4-12"></a></span>
<span id="cb4-13"><a href="#cb4-13"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:60%;">
<div id="fig-539a35d47e664c97a50115a146a7f1bd-7" class="quarto-figure quarto-figure-center" width="80%">
<figure class="quarto-float quarto-float-fig">
<div>
<img data-src="images/iris-explorer-app-server-variables.png" id="fig-539a35d47e664c97a50115a146a7f1bd-7" style="width:80.0%">
</div>
</figure>
</div>
</div>
</div>
<p><code>input$ID</code> is part of the bundled input data sent from the UI.</p>
<ul>
<li><code>input$xvar</code> and <code>input$yvar</code> specifically return character vectors of the results of the dropdowns, which have variable names.</li>
</ul>
<p>To correctly map the character vector to the <code>aes()</code> statement in a <code>ggplot()</code> call, we need to use the <code>.data[[col]]</code> pronoun for it to correctly work.</p>
</section>
<section id="adding-behavior-1" class="slide level2 smaller">
<h2>Adding behavior</h2>
<p>Last feature: To get the checkbox to work, we need a conditional statement.</p>
<ul>
<li>So we have to build our plot in stages.</li>
</ul>
<p>Modify your <code>server</code> function to the following:</p>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="do">### ---- Define server ----</span></span>
<span id="cb5-2"><a href="#cb5-2"></a></span>
<span id="cb5-3"><a href="#cb5-3"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb5-4"><a href="#cb5-4"></a></span>
<span id="cb5-5"><a href="#cb5-5"></a>  <span class="co"># create base plot</span></span>
<span id="cb5-6"><a href="#cb5-6"></a>  p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb5-7"><a href="#cb5-7"></a>    <span class="fu">theme_bw</span>()</span>
<span id="cb5-8"><a href="#cb5-8"></a>  </span>
<span id="cb5-9"><a href="#cb5-9"></a>  <span class="co"># add points layer</span></span>
<span id="cb5-10"><a href="#cb5-10"></a>  <span class="co"># -&gt; conditionally colored variable -&gt; selected via user input</span></span>
<span id="cb5-11"><a href="#cb5-11"></a>  <span class="cf">if</span>(input<span class="sc">$</span>species <span class="sc">==</span> <span class="cn">TRUE</span>){</span>
<span id="cb5-12"><a href="#cb5-12"></a>    p1 <span class="ot">&lt;-</span> p1 <span class="sc">+</span></span>
<span id="cb5-13"><a href="#cb5-13"></a>      <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> .data[[input<span class="sc">$</span>xvar]],</span>
<span id="cb5-14"><a href="#cb5-14"></a>                     <span class="at">y =</span> .data[[input<span class="sc">$</span>yvar]],</span>
<span id="cb5-15"><a href="#cb5-15"></a>                     <span class="at">color =</span> Species),</span>
<span id="cb5-16"><a href="#cb5-16"></a>                <span class="at">data =</span> iris)</span>
<span id="cb5-17"><a href="#cb5-17"></a>  }<span class="cf">else</span>{</span>
<span id="cb5-18"><a href="#cb5-18"></a>    p1 <span class="ot">&lt;-</span> p1 <span class="sc">+</span></span>
<span id="cb5-19"><a href="#cb5-19"></a>      <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> .data[[input<span class="sc">$</span>xvar]],</span>
<span id="cb5-20"><a href="#cb5-20"></a>                     <span class="at">y =</span> .data[[input<span class="sc">$</span>yvar]]),</span>
<span id="cb5-21"><a href="#cb5-21"></a>      <span class="at">data =</span> iris)</span>
<span id="cb5-22"><a href="#cb5-22"></a>  }</span>
<span id="cb5-23"><a href="#cb5-23"></a>  </span>
<span id="cb5-24"><a href="#cb5-24"></a>  <span class="fu">print</span>(p1)</span>
<span id="cb5-25"><a href="#cb5-25"></a></span>
<span id="cb5-26"><a href="#cb5-26"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:60%;">
<div id="fig-539a35d47e664c97a50115a146a7f1bd-8" class="quarto-figure quarto-figure-center" width="80%">
<figure class="quarto-float quarto-float-fig">
<div>
<img data-src="images/iris-explorer-app-server-color.png" id="fig-539a35d47e664c97a50115a146a7f1bd-8" style="width:80.0%">
</div>
</figure>
</div>
</div>
</div>
<p><code>input$ID</code> from a <code>checkboxInput()</code> returns a <code>TRUE</code> or <code>FALSE</code>.</p>
<ul>
<li><p>Starting with the base plot, we can conditionally add more layers, one of which will have another <code>aes()</code> statement and the other will not.</p></li>
<li><p>Then we display the final built plot.</p></li>
</ul>
<p>Thus we have a working version of the Iris explorer app!</p>
</section>
<section id="furthering-app-design" class="slide level2 smaller">
<h2>Furthering app design</h2>
<blockquote>
<h3 id="another-way-to-test-app">Another way to test app</h3>
</blockquote>
<ol type="1">
<li><p>Sketch the blueprint of the app.</p></li>
<li><p>Try to use code to make the static visualization that we want.</p></li>
<li><p>Then act like Shiny and create an input list, in essence simulating the user input.</p></li>
</ol>
<ul>
<li>We can then modify the above code to change based on different values of the input list.</li>
<li>Then just tinker with different values to make sure it works and then can put code into app when satisfied that it works.</li>
</ul>
<blockquote>
<h3 id="input-list">Input list</h3>
</blockquote>
<p>The input list is just a flexible grouping of data objects (can have nested objects and many different objects).</p>
<ul>
<li>Recall lists are just unspecific structure of data, while dataframes are just a group of data in a very specific format).</li>
</ul>
<p>How the input list works:</p>
<ul>
<li>When the user clicks something, in the background the javascript throws the new data into the input list and passes it along.</li>
</ul>
<blockquote>
<h3 id="software-design-principles">Software design principles</h3>
</blockquote>
<p>Whenever we hand over a software to users, there are more things that we have to consider so that they have a seamless experience using it</p>
<ul>
<li><p>Examples include:</p></li>
<li><p>Renaming variables so that users see intuitive names, but still allowing R access to the variable names</p></li>
<li><p>Conditional dropdowns (based on other dropdowns) so users can only create plots that make sense.</p></li>
</ul>
</section>
<section id="polishing-app" class="slide level2 smaller">
<h2>Polishing app</h2>
<blockquote>
<h3 id="labels">Labels</h3>
</blockquote>
<p>Goal is to translate variable values to the labels.</p>
<ul>
<li><p>The solution is named vectors, where the names are just referencing tools that are displayed to the user instead of the actual value.</p></li>
<li><p>To do this, we just need to define our named vector, say <code>vars</code>, outside of <code>server</code>, then use the <code>choices = vars</code> argument of <code>selectInput</code>.</p></li>
<li><p>These nice labels can then be accessed for axes titles by subsetting the <code>vars</code> vector to the one that is selected and pulling the name: <code>names(vars[vars == input$xvar])</code>.</p></li>
</ul>
<p>Modify just the <code>vars</code> statement before the <code>ui</code> and the <code>server</code> function to the following:</p>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="do">### ---- Define UI ----</span></span>
<span id="cb6-2"><a href="#cb6-2"></a></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="co"># create named vector for mapping of labels to variable names</span></span>
<span id="cb6-4"><a href="#cb6-4"></a>vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Sepal Length (cm)"</span> <span class="ot">=</span> <span class="st">"Sepal.Length"</span>,</span>
<span id="cb6-5"><a href="#cb6-5"></a>          <span class="st">"Sepal Width (cm)"</span> <span class="ot">=</span> <span class="st">"Sepal.Width"</span>,</span>
<span id="cb6-6"><a href="#cb6-6"></a>          <span class="st">"Petal Length (cm)"</span> <span class="ot">=</span> <span class="st">"Petal.Length"</span>,</span>
<span id="cb6-7"><a href="#cb6-7"></a>          <span class="st">"Petal Width (cm)"</span> <span class="ot">=</span> <span class="st">"Petal.Width"</span>)</span>
<span id="cb6-8"><a href="#cb6-8"></a></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="co"># &lt; ... same previous UI code ... &gt;</span></span>
<span id="cb6-10"><a href="#cb6-10"></a></span>
<span id="cb6-11"><a href="#cb6-11"></a><span class="do">### ---- Define server ----</span></span>
<span id="cb6-12"><a href="#cb6-12"></a></span>
<span id="cb6-13"><a href="#cb6-13"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb6-14"><a href="#cb6-14"></a>  </span>
<span id="cb6-15"><a href="#cb6-15"></a>  output<span class="sc">$</span>plot1 <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({  </span>
<span id="cb6-16"><a href="#cb6-16"></a>  </span>
<span id="cb6-17"><a href="#cb6-17"></a>    <span class="co"># build points layer</span></span>
<span id="cb6-18"><a href="#cb6-18"></a>    <span class="co"># -&gt; conditionally colored variable -&gt; selected via user input</span></span>
<span id="cb6-19"><a href="#cb6-19"></a>    <span class="cf">if</span>(input<span class="sc">$</span>species <span class="sc">==</span> <span class="cn">TRUE</span>){</span>
<span id="cb6-20"><a href="#cb6-20"></a>      p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb6-21"><a href="#cb6-21"></a>        <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> .data[[input<span class="sc">$</span>xvar]],</span>
<span id="cb6-22"><a href="#cb6-22"></a>                     <span class="at">y =</span> .data[[input<span class="sc">$</span>yvar]],</span>
<span id="cb6-23"><a href="#cb6-23"></a>                     <span class="at">color =</span> Species),</span>
<span id="cb6-24"><a href="#cb6-24"></a>                 <span class="at">data =</span> iris)</span>
<span id="cb6-25"><a href="#cb6-25"></a>    }<span class="cf">else</span>{</span>
<span id="cb6-26"><a href="#cb6-26"></a>      p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb6-27"><a href="#cb6-27"></a>        <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> .data[[input<span class="sc">$</span>xvar]],</span>
<span id="cb6-28"><a href="#cb6-28"></a>                       <span class="at">y =</span> .data[[input<span class="sc">$</span>yvar]]),</span>
<span id="cb6-29"><a href="#cb6-29"></a>                   <span class="at">data =</span> iris)</span>
<span id="cb6-30"><a href="#cb6-30"></a>    }</span>
<span id="cb6-31"><a href="#cb6-31"></a>    </span>
<span id="cb6-32"><a href="#cb6-32"></a>    <span class="co"># add nice labels and theme</span></span>
<span id="cb6-33"><a href="#cb6-33"></a>    p1 <span class="ot">&lt;-</span> p1 <span class="sc">+</span> </span>
<span id="cb6-34"><a href="#cb6-34"></a>      <span class="fu">labs</span>(<span class="at">x =</span> <span class="fu">names</span>(vars)[vars <span class="sc">==</span> input<span class="sc">$</span>xvar],</span>
<span id="cb6-35"><a href="#cb6-35"></a>           <span class="at">y =</span> <span class="fu">names</span>(vars)[vars <span class="sc">==</span> input<span class="sc">$</span>yvar]) <span class="sc">+</span> </span>
<span id="cb6-36"><a href="#cb6-36"></a>      <span class="fu">theme_bw</span>()</span>
<span id="cb6-37"><a href="#cb6-37"></a>    </span>
<span id="cb6-38"><a href="#cb6-38"></a>    <span class="fu">print</span>(p1)</span>
<span id="cb6-39"><a href="#cb6-39"></a>    </span>
<span id="cb6-40"><a href="#cb6-40"></a>  })</span>
<span id="cb6-41"><a href="#cb6-41"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:60%;">
<div id="fig-539a35d47e664c97a50115a146a7f1bd-9" class="quarto-figure quarto-figure-center" width="80%">
<figure class="quarto-float quarto-float-fig">
<div>
<img data-src="images/iris-explorer-app-polish-names.png" id="fig-539a35d47e664c97a50115a146a7f1bd-9" style="width:80.0%">
</div>
</figure>
</div>
</div>
</div>
</section>
<section id="polishing-app-1" class="slide level2 smaller">
<h2>Polishing app</h2>
<blockquote>
<h3 id="conditional-dropdowns">Conditional dropdowns</h3>
</blockquote>
<p>Goal: Options for one input (independent X) depend on the value of the other input (response Y).</p>
<p>Logic: To do this we have to update the input after the Y variable is selected.</p>
<ul>
<li>After the inputs are created like normal, the server has to do all of the thinking in order for it to update actively.</li>
</ul>
<p>Add just the following to the <code>server</code> function to the following:</p>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="do">### ---- Define server ----</span></span>
<span id="cb7-2"><a href="#cb7-2"></a></span>
<span id="cb7-3"><a href="#cb7-3"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb7-4"><a href="#cb7-4"></a></span>
<span id="cb7-5"><a href="#cb7-5"></a>  <span class="co"># updated dropdown</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>  <span class="fu">observeEvent</span>(input<span class="sc">$</span>yvar, {</span>
<span id="cb7-7"><a href="#cb7-7"></a>    <span class="fu">updateSelectInput</span>(<span class="at">inputId =</span> <span class="st">"xvar"</span>, <span class="at">choices =</span> vars[vars <span class="sc">!=</span> input<span class="sc">$</span>yvar])</span>
<span id="cb7-8"><a href="#cb7-8"></a>  })</span>
<span id="cb7-9"><a href="#cb7-9"></a>  </span>
<span id="cb7-10"><a href="#cb7-10"></a>  <span class="co"># &lt; ... same output$plot1 code as before ... &gt;</span></span>
<span id="cb7-11"><a href="#cb7-11"></a></span>
<span id="cb7-12"><a href="#cb7-12"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:60%;">
<div id="fig-539a35d47e664c97a50115a146a7f1bd-10" class="quarto-figure quarto-figure-center" width="80%">
<figure class="quarto-float quarto-float-fig">
<div>
<img data-src="images/iris-explorer-app-polish-dropdown.png" id="fig-539a35d47e664c97a50115a146a7f1bd-10" style="width:80.0%">
</div>
</figure>
</div>
</div>
</div>
<ol type="1">
<li><p>Create the inputs like normal in the UI (same code as before).</p></li>
<li><p>In the server above the <code>output$plot1</code>, use the combo of <code>observeEvent(input$ID, {update{Type}Input()}</code> to modify the parameters of input controls, which is triggered by a change in <code>input$ID</code>.</p></li>
</ol>
<ul>
<li>Then within <code>update{Type}Input()</code>, the choices of X should be indexed on not equaling the Y choice: <code>choices = vars[vars != input$yvar]</code>. In essence, we make it conditionally update based on Y.</li>
</ul>
</section>
<section id="polishing-app-2" class="slide level2">
<h2>Polishing app</h2>
<blockquote>
<h3 id="what-else-is-possible">What else is possible?</h3>
</blockquote>
<p><code>conditionalPanel()</code> in the UI allows you to create a panel that is visible or not, depending on the value of an expression.</p>
<ul>
<li>This can be useful when you don’t want something to show up until the user selects something.</li>
</ul>
<p><code>uiOutput()</code> and <code>renderUI()</code> pair allows you to create UI with code.</p>
<ul>
<li><p>This is useful when you need to create different types or numbers of inputs (or outputs), depending on other inputs (dynamically generated UI).</p></li>
<li><p>This technique gives you the ability to create and modify the user interface while the app is running (not just at the start like we have been doing).</p></li>
</ul>
<p>Creating an arbitrary number of or type of controls.</p>
<ul>
<li><p>For example, creating a control for each column of a general dataset.</p></li>
<li><p>This involves functional programming functions from the <code>purrr</code> package, which we have not covered (but something to learn in the future!). ## Plotly in Shiny – UI {.smaller}</p></li>
</ul>
<p>Now let’s add to our app to demonstrate more UI features and how to introduce <code>plotly</code> into our Shiny app.</p>
<p>Replace the beginning of the code in your app with the following:</p>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="do">### ----- Load packages ----</span></span>
<span id="cb8-2"><a href="#cb8-2"></a></span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="fu">library</span>(shiny)</span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb8-5"><a href="#cb8-5"></a><span class="fu">library</span>(plotly)</span>
<span id="cb8-6"><a href="#cb8-6"></a></span>
<span id="cb8-7"><a href="#cb8-7"></a><span class="do">### ---- Define UI ----</span></span>
<span id="cb8-8"><a href="#cb8-8"></a></span>
<span id="cb8-9"><a href="#cb8-9"></a><span class="co"># create named vector for mapping of labels to variable names</span></span>
<span id="cb8-10"><a href="#cb8-10"></a>vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Sepal Length (cm)"</span> <span class="ot">=</span> <span class="st">"Sepal.Length"</span>,</span>
<span id="cb8-11"><a href="#cb8-11"></a>          <span class="st">"Sepal Width (cm)"</span> <span class="ot">=</span> <span class="st">"Sepal.Width"</span>,</span>
<span id="cb8-12"><a href="#cb8-12"></a>          <span class="st">"Petal Length (cm)"</span> <span class="ot">=</span> <span class="st">"Petal.Length"</span>,</span>
<span id="cb8-13"><a href="#cb8-13"></a>          <span class="st">"Petal Width (cm)"</span> <span class="ot">=</span> <span class="st">"Petal.Width"</span>)</span>
<span id="cb8-14"><a href="#cb8-14"></a></span>
<span id="cb8-15"><a href="#cb8-15"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb8-16"><a href="#cb8-16"></a>  </span>
<span id="cb8-17"><a href="#cb8-17"></a>  <span class="fu">titlePanel</span>(<span class="at">title =</span> <span class="st">"Shiny Iris Explorer App!"</span>),</span>
<span id="cb8-18"><a href="#cb8-18"></a>  </span>
<span id="cb8-19"><a href="#cb8-19"></a>  <span class="fu">sidebarPanel</span>(</span>
<span id="cb8-20"><a href="#cb8-20"></a>  </span>
<span id="cb8-21"><a href="#cb8-21"></a>    <span class="co"># create dropdowns of variable names to plot</span></span>
<span id="cb8-22"><a href="#cb8-22"></a>    <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">"yvar"</span>,</span>
<span id="cb8-23"><a href="#cb8-23"></a>                <span class="at">label =</span> <span class="st">"Choose Y Variable"</span>,</span>
<span id="cb8-24"><a href="#cb8-24"></a>                <span class="at">choices =</span> vars),</span>
<span id="cb8-25"><a href="#cb8-25"></a>    <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">"xvar"</span>,</span>
<span id="cb8-26"><a href="#cb8-26"></a>                <span class="at">label =</span> <span class="st">"Choose X Variable"</span>,</span>
<span id="cb8-27"><a href="#cb8-27"></a>                <span class="at">choices =</span> vars,</span>
<span id="cb8-28"><a href="#cb8-28"></a>                <span class="at">selected =</span> vars[[<span class="dv">2</span>]]),</span>
<span id="cb8-29"><a href="#cb8-29"></a></span>
<span id="cb8-30"><a href="#cb8-30"></a>    <span class="co"># create checkbox to optionally color by a categorical variable</span></span>
<span id="cb8-31"><a href="#cb8-31"></a>    <span class="fu">checkboxInput</span>(<span class="at">inputId =</span> <span class="st">"species"</span>,</span>
<span id="cb8-32"><a href="#cb8-32"></a>                  <span class="at">label =</span> <span class="st">"Color by Species"</span>,</span>
<span id="cb8-33"><a href="#cb8-33"></a>                  <span class="at">value =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-34"><a href="#cb8-34"></a>  ),</span>
<span id="cb8-35"><a href="#cb8-35"></a>  </span>
<span id="cb8-36"><a href="#cb8-36"></a>  <span class="co"># create tabs with spots for plots</span></span>
<span id="cb8-37"><a href="#cb8-37"></a>  <span class="fu">mainPanel</span>(</span>
<span id="cb8-38"><a href="#cb8-38"></a>    <span class="fu">tabsetPanel</span>(</span>
<span id="cb8-39"><a href="#cb8-39"></a>      <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"ggplot"</span>,</span>
<span id="cb8-40"><a href="#cb8-40"></a>               <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"plot1"</span>)),</span>
<span id="cb8-41"><a href="#cb8-41"></a>      <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"plotly"</span>,</span>
<span id="cb8-42"><a href="#cb8-42"></a>               <span class="fu">plotlyOutput</span>(<span class="at">outputId =</span> <span class="st">"plot2"</span>))</span>
<span id="cb8-43"><a href="#cb8-43"></a>    )</span>
<span id="cb8-44"><a href="#cb8-44"></a>  )</span>
<span id="cb8-45"><a href="#cb8-45"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:60%;">
<div id="fig-539a35d47e664c97a50115a146a7f1bd-11" class="quarto-figure quarto-figure-center" width="80%">
<figure class="quarto-float quarto-float-fig">
<div>
<img data-src="images/iris-explorer-app-plotly-ui.png" id="fig-539a35d47e664c97a50115a146a7f1bd-11" style="width:80.0%">
</div>
</figure>
</div>
</div>
</div>
<p>Make sure to load the new package at the top: <code>library(plotly)</code>.</p>
<p><code>tabsetPanel()</code> and <code>tabPanel()</code> combo is the easiest way to break a page into pieces.</p>
<ul>
<li><code>tabsetPanel()</code> creates a container for any number of <code>tabPanels()</code>, which can be titled and include any output that would have gone in <code>mainPanel()</code> by itself.</li>
</ul>
<p>We will do this to include two different plots:</p>
<ul>
<li>One regular plot like before with <code>plotOutput()</code> and another that we will make with plotly; so, we need to have a different output container <code>plotlyOutput()</code>.</li>
</ul>
</section>
<section id="plotly-in-shiny-server" class="slide level2 smaller">
<h2>Plotly in Shiny – Server</h2>
<p>Now within the <code>server</code> function, we just need to add the new <code>output$plot2</code>.</p>
<p>Add the following code below <code>output$plot1</code> in the <code>server</code> function:</p>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="do">### ---- Define server ----</span></span>
<span id="cb9-2"><a href="#cb9-2"></a></span>
<span id="cb9-3"><a href="#cb9-3"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb9-4"><a href="#cb9-4"></a>  </span>
<span id="cb9-5"><a href="#cb9-5"></a>  <span class="co"># &lt; ... update dropdown code .... &gt;</span></span>
<span id="cb9-6"><a href="#cb9-6"></a>  </span>
<span id="cb9-7"><a href="#cb9-7"></a>  <span class="co"># &lt; ... output$plot1 code ... &gt;</span></span>
<span id="cb9-8"><a href="#cb9-8"></a>  </span>
<span id="cb9-9"><a href="#cb9-9"></a>  output<span class="sc">$</span>plot2 <span class="ot">&lt;-</span> <span class="fu">renderPlotly</span>({</span>
<span id="cb9-10"><a href="#cb9-10"></a></span>
<span id="cb9-11"><a href="#cb9-11"></a>    <span class="co"># build base plot</span></span>
<span id="cb9-12"><a href="#cb9-12"></a>    p2 <span class="ot">&lt;-</span> iris <span class="sc">%&gt;%</span></span>
<span id="cb9-13"><a href="#cb9-13"></a>      <span class="fu">plot_ly</span>()</span>
<span id="cb9-14"><a href="#cb9-14"></a></span>
<span id="cb9-15"><a href="#cb9-15"></a>    <span class="co"># build points layer with plotly</span></span>
<span id="cb9-16"><a href="#cb9-16"></a>    <span class="co"># -&gt; conditionally colored variable -&gt; selected via user input</span></span>
<span id="cb9-17"><a href="#cb9-17"></a>    <span class="cf">if</span>(input<span class="sc">$</span>species <span class="sc">==</span> <span class="cn">TRUE</span>){</span>
<span id="cb9-18"><a href="#cb9-18"></a>      p2 <span class="ot">&lt;-</span> p2 <span class="sc">%&gt;%</span></span>
<span id="cb9-19"><a href="#cb9-19"></a>        <span class="fu">add_markers</span>(<span class="at">x =</span> <span class="sc">~</span>Petal.Width,</span>
<span id="cb9-20"><a href="#cb9-20"></a>                    <span class="at">y =</span> <span class="sc">~</span>Petal.Length,</span>
<span id="cb9-21"><a href="#cb9-21"></a>                    <span class="at">color =</span> <span class="sc">~</span>Species)</span>
<span id="cb9-22"><a href="#cb9-22"></a>    }<span class="cf">else</span>{</span>
<span id="cb9-23"><a href="#cb9-23"></a>      p2 <span class="ot">&lt;-</span> p2 <span class="sc">%&gt;%</span></span>
<span id="cb9-24"><a href="#cb9-24"></a>        <span class="fu">add_markers</span>(<span class="at">x =</span> <span class="sc">~</span>Petal.Width,</span>
<span id="cb9-25"><a href="#cb9-25"></a>                    <span class="at">y =</span> <span class="sc">~</span>Petal.Length,</span>
<span id="cb9-26"><a href="#cb9-26"></a>                    <span class="at">color =</span> <span class="fu">I</span>(<span class="st">"black"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-27"><a href="#cb9-27"></a>        <span class="fu">hide_legend</span>()</span>
<span id="cb9-28"><a href="#cb9-28"></a>    }</span>
<span id="cb9-29"><a href="#cb9-29"></a></span>
<span id="cb9-30"><a href="#cb9-30"></a>    <span class="fu">print</span>(p2)</span>
<span id="cb9-31"><a href="#cb9-31"></a></span>
<span id="cb9-32"><a href="#cb9-32"></a>  })</span>
<span id="cb9-33"><a href="#cb9-33"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:60%;">
<div id="fig-539a35d47e664c97a50115a146a7f1bd-12" class="quarto-figure quarto-figure-center" width="80%">
<figure class="quarto-float quarto-float-fig">
<div>
<img data-src="images/iris-explorer-app-plotly-server-static.png" id="fig-539a35d47e664c97a50115a146a7f1bd-12" style="width:80.0%">
</div>
</figure>
</div>
</div>
</div>
<p>This plotly version has a similar flow to the <code>ggplot</code> version.</p>
<ul>
<li><p>We again build the plot in stages, first just setting up the <code>plot_ly()</code> with the data.</p></li>
<li><p>Then conditionally adding markers based on colored or not.</p></li>
<li><p>To make sure it works, first we will hardcode in the variable names <code>Petal.Width</code> and <code>Petal.Length</code> and specify to color by <code>Species</code> or a constant <code>I("black")</code> based on the condition.</p></li>
</ul>
</section>
<section id="plotly-in-shiny-server-1" class="slide level2 smaller">
<h2>Plotly in Shiny – Server</h2>
<p>Now to get dynamic variable selection, we need to use the following technique.</p>
<p>Change your <code>output$plot2</code> code to the following:</p>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="do">### ---- Define server ----</span></span>
<span id="cb10-2"><a href="#cb10-2"></a></span>
<span id="cb10-3"><a href="#cb10-3"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb10-4"><a href="#cb10-4"></a>  </span>
<span id="cb10-5"><a href="#cb10-5"></a>  <span class="co"># &lt; ... update dropdown code .... &gt;</span></span>
<span id="cb10-6"><a href="#cb10-6"></a>  </span>
<span id="cb10-7"><a href="#cb10-7"></a>  <span class="co"># &lt; ... output$plot1 code ... &gt;</span></span>
<span id="cb10-8"><a href="#cb10-8"></a>  </span>
<span id="cb10-9"><a href="#cb10-9"></a>  output<span class="sc">$</span>plot2 <span class="ot">&lt;-</span> <span class="fu">renderPlotly</span>({</span>
<span id="cb10-10"><a href="#cb10-10"></a></span>
<span id="cb10-11"><a href="#cb10-11"></a>    <span class="co"># build base plot</span></span>
<span id="cb10-12"><a href="#cb10-12"></a>    p2 <span class="ot">&lt;-</span> iris <span class="sc">%&gt;%</span></span>
<span id="cb10-13"><a href="#cb10-13"></a>      <span class="fu">plot_ly</span>()</span>
<span id="cb10-14"><a href="#cb10-14"></a></span>
<span id="cb10-15"><a href="#cb10-15"></a>    <span class="co"># build points layer with plotly</span></span>
<span id="cb10-16"><a href="#cb10-16"></a>    <span class="co"># -&gt; conditionally colored variable -&gt; selected via user input</span></span>
<span id="cb10-17"><a href="#cb10-17"></a>    <span class="cf">if</span>(input<span class="sc">$</span>species <span class="sc">==</span> <span class="cn">TRUE</span>){</span>
<span id="cb10-18"><a href="#cb10-18"></a>      p2 <span class="ot">&lt;-</span> p2 <span class="sc">%&gt;%</span></span>
<span id="cb10-19"><a href="#cb10-19"></a>        <span class="fu">add_markers</span>(<span class="at">x =</span> <span class="fu">paste0</span>(<span class="st">"~"</span>, input<span class="sc">$</span>xvar) <span class="sc">%&gt;%</span> as.formula,</span>
<span id="cb10-20"><a href="#cb10-20"></a>                    <span class="at">y =</span> <span class="fu">paste0</span>(<span class="st">"~"</span>, input<span class="sc">$</span>yvar) <span class="sc">%&gt;%</span> as.formula,</span>
<span id="cb10-21"><a href="#cb10-21"></a>                    <span class="at">color =</span> <span class="sc">~</span>Species)</span>
<span id="cb10-22"><a href="#cb10-22"></a>    }<span class="cf">else</span>{</span>
<span id="cb10-23"><a href="#cb10-23"></a>      p2 <span class="ot">&lt;-</span> p2 <span class="sc">%&gt;%</span></span>
<span id="cb10-24"><a href="#cb10-24"></a>        <span class="fu">add_markers</span>(<span class="at">x =</span> <span class="fu">paste0</span>(<span class="st">"~"</span>, input<span class="sc">$</span>xvar) <span class="sc">%&gt;%</span> as.formula,</span>
<span id="cb10-25"><a href="#cb10-25"></a>                    <span class="at">y =</span> <span class="fu">paste0</span>(<span class="st">"~"</span>, input<span class="sc">$</span>yvar) <span class="sc">%&gt;%</span> as.formula,</span>
<span id="cb10-26"><a href="#cb10-26"></a>                    <span class="at">color =</span> <span class="fu">I</span>(<span class="st">"black"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb10-27"><a href="#cb10-27"></a>        <span class="fu">hide_legend</span>()</span>
<span id="cb10-28"><a href="#cb10-28"></a>    }</span>
<span id="cb10-29"><a href="#cb10-29"></a></span>
<span id="cb10-30"><a href="#cb10-30"></a>    <span class="fu">print</span>(p2)</span>
<span id="cb10-31"><a href="#cb10-31"></a></span>
<span id="cb10-32"><a href="#cb10-32"></a>  })</span>
<span id="cb10-33"><a href="#cb10-33"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:60%;">
<div id="fig-539a35d47e664c97a50115a146a7f1bd-13" class="quarto-figure quarto-figure-center" width="80%">
<figure class="quarto-float quarto-float-fig">
<div>
<img data-src="images/iris-explorer-app-plotly-server-dynamic.png" id="fig-539a35d47e664c97a50115a146a7f1bd-13" style="width:80.0%">
</div>
</figure>
</div>
</div>
</div>
<p>It was easy to just get a “static” plotly (i.e.&nbsp;with set variables)</p>
<ul>
<li>In <code>ggplot</code>, we just needed to use <code>aes(x = .data[[input$xvar]])</code> for exaple because <code>input$xvar</code> returns a string.</li>
</ul>
<p>For plotly, this argument needs to be a formula.</p>
<ul>
<li>So we can use <code>x = paste0("~", input$xvar) %&gt;% as.formula</code>, for example (it could also be nested <code>x = as.formula(paste0("~", input$xvar))</code>).</li>
</ul>
</section>
<section id="additional-shiny-features" class="slide level2 smaller">
<h2>Additional Shiny features</h2>
<div class="columns">
<div class="column" style="width:46%;">
<p>UI</p>
<ul>
<li><p>So far we have only worked with some simple layout structures.</p></li>
<li><p>Now that we have the basics of how to program the UI, we could use more complex layouts and incorporate more features into our app at once.</p></li>
<li><p>The diagrams to the right show some of the possible functions and the structures they create.</p></li>
</ul>
<p>Server</p>
<ul>
<li><p>On the server side, there is one very important element that we haven’t covered: <strong>reactive programming</strong>.</p></li>
<li><p>So far, Shiny updates (i.e.&nbsp;sends bundles of data to the server, runs the necessary code, and returns the appropriate output), whenever the user changes an input.</p></li>
<li><p>With reactive expressions, we can control <em>when</em> Shiny evaluated things.</p></li>
<li><p>This is a useful strategy to reduce the amount of duplicated code (i.e.&nbsp;resuing calculations) and making apps much more efficient (only what needs recalculated is recalculated).</p></li>
</ul>
</div><div class="column" style="width:40%;">
<div id="fig-539a35d47e664c97a50115a146a7f1bd-14" class="quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig">
<div>
<img data-src="images/shiny-ui-layouts.png" id="fig-539a35d47e664c97a50115a146a7f1bd-14">
</div>
</figure>
</div>
<div id="fig-539a35d47e664c97a50115a146a7f1bd-15" class="quarto-figure quarto-figure-center" width="80%">
<figure class="quarto-float quarto-float-fig">
<div>
<img data-src="images/shiny-reactive.png" id="fig-539a35d47e664c97a50115a146a7f1bd-15" style="width:80.0%">
</div>
</figure>
</div>
</div>
</div>
</section>
<section id="big-picture-revisisted" class="slide level2 smaller">
<h2>Big picture revisisted</h2>
<p>Very important points!!</p>
<ul>
<li><p>When making an app, you should come up with the STORY (narrative) FIRST, and then make the plots to show that.</p></li>
<li><p>Don’t make the plots first, then figure out a story!</p></li>
</ul>
<div class="fragment">
<p>Here is the recommended flow of a full analysis:</p>
<ol type="1">
<li><p>Data cleaning and organizing.</p></li>
<li><p>EDA.</p></li>
<li><p>Start with STATIC plots.</p></li>
<li><p>Then see if intertactivity aids the story.</p></li>
<li><p>Figure out how to incorporate user input.</p></li>
<li><p>Organize the “dashboard” with a sketch.</p></li>
<li><p>Incorporate UI features.</p></li>
<li><p>Add server behavior.</p></li>
<li><p>Communicate!</p></li>
</ol>
</div>
<div class="fragment">
<p>COMMUNICATION IS SUPER IMPORTANT!</p>
<ul>
<li><p>Being able to work with the data is important, but almost more important is to be able to communicate with both experts and lay people</p></li>
<li><p>If we have a big solutions to a big problem, it is unlikely that our solo efforts will be able to fix it.</p></li>
<li><p>We need to be able to make our solution understandable and be able to communicate it easily.</p></li>
</ul>
</div>
</section>
<section id="alternative-approach-to-building-applications" class="slide level2">
<h2>Alternative approach to building applications</h2>
<p>As data scientists, we want our time and effort to be spent on actually doing good data science (working with the data, transforming data, creating insightful plots, telling stories) rather than things like formatting the UI.</p>
<p>Click the link or image below to watch the video as an alternative approach to building Shiny apps:</p>
<p><a href="https://youtu.be/gYPnLiudtGU?si=MWXwSyf_JYinE3eo">Shiny UI Editor Project Walkthrough</a></p>
<p><a href="https://youtu.be/gYPnLiudtGU?si=MWXwSyf_JYinE3eo"><img data-src="images/shiny-ui-editor-video.png" style="width:60.0%"></a></p>
</section>
<section id="installing-the-necessary-packages" class="slide level2">
<h2>Installing the necessary packages</h2>
<p>Run the following lines of code to install the packages we need:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="fu">install.packages</span>(<span class="st">"devtools"</span>) <span class="co"># needed for the following function</span></span>
<span id="cb11-2"><a href="#cb11-2"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"rstudio/shinyuieditor"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="shiny-ui-editor" class="slide level2">
<h2>Shiny UI editor</h2>
<p>Now lets recreate the Iris Explorer App using shinyuieditor.</p>
<p>Lets start a new R script with the following code:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">library</span>(shinyuieditor)</span>
<span id="cb12-2"><a href="#cb12-2"></a></span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="co"># !! setwd() to current location first</span></span>
<span id="cb12-4"><a href="#cb12-4"></a></span>
<span id="cb12-5"><a href="#cb12-5"></a><span class="fu">launch_editor</span>(<span class="at">app_loc =</span> <span class="st">"iris-explorer-2"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now go back and forth between the <code>app.R</code> file and the shinyuieditor, borrowing code from the previous iris explorer app when needed.</p>
<div id="fig-539a35d47e664c97a50115a146a7f1bd-16" class="quarto-figure quarto-figure-center" width="70%">
<figure class="quarto-float quarto-float-fig">
<div>
<img data-src="images/iris-explorer-app-shinyuieditor.png" id="fig-539a35d47e664c97a50115a146a7f1bd-16" style="width:70.0%">
</div>
</figure>
</div>
</section>
<section id="comparison-of-methods" class="slide level2 smaller">
<h2>Comparison of methods</h2>
<blockquote>
<h3 id="differences">Differences</h3>
</blockquote>
<div class="columns">
<div class="column" style="width:46%;">
<blockquote>
<h4 id="manual-code">“Manual” code</h4>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="do">### ----- Load packages ----</span></span>
<span id="cb13-2"><a href="#cb13-2"></a></span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="fu">library</span>(shiny)</span>
<span id="cb13-4"><a href="#cb13-4"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb13-5"><a href="#cb13-5"></a><span class="fu">library</span>(plotly)</span>
<span id="cb13-6"><a href="#cb13-6"></a></span>
<span id="cb13-7"><a href="#cb13-7"></a><span class="do">### ---- Define UI ----</span></span>
<span id="cb13-8"><a href="#cb13-8"></a></span>
<span id="cb13-9"><a href="#cb13-9"></a><span class="co"># create named vector for mapping of labels to variable names</span></span>
<span id="cb13-10"><a href="#cb13-10"></a>vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Sepal Length (cm)"</span> <span class="ot">=</span> <span class="st">"Sepal.Length"</span>,</span>
<span id="cb13-11"><a href="#cb13-11"></a>          <span class="st">"Sepal Width (cm)"</span> <span class="ot">=</span> <span class="st">"Sepal.Width"</span>,</span>
<span id="cb13-12"><a href="#cb13-12"></a>          <span class="st">"Petal Length (cm)"</span> <span class="ot">=</span> <span class="st">"Petal.Length"</span>,</span>
<span id="cb13-13"><a href="#cb13-13"></a>          <span class="st">"Petal Width (cm)"</span> <span class="ot">=</span> <span class="st">"Petal.Width"</span>)</span>
<span id="cb13-14"><a href="#cb13-14"></a></span>
<span id="cb13-15"><a href="#cb13-15"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb13-16"><a href="#cb13-16"></a>  </span>
<span id="cb13-17"><a href="#cb13-17"></a>  <span class="fu">titlePanel</span>(<span class="at">title =</span> <span class="st">"Shiny Iris Explorer App!"</span>),</span>
<span id="cb13-18"><a href="#cb13-18"></a>  </span>
<span id="cb13-19"><a href="#cb13-19"></a>  <span class="fu">sidebarPanel</span>(</span>
<span id="cb13-20"><a href="#cb13-20"></a>  </span>
<span id="cb13-21"><a href="#cb13-21"></a>    <span class="co"># create dropdowns of variable names to plot</span></span>
<span id="cb13-22"><a href="#cb13-22"></a>    <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">"yvar"</span>,</span>
<span id="cb13-23"><a href="#cb13-23"></a>                <span class="at">label =</span> <span class="st">"Choose Y Variable"</span>,</span>
<span id="cb13-24"><a href="#cb13-24"></a>                <span class="at">choices =</span> vars),</span>
<span id="cb13-25"><a href="#cb13-25"></a>    <span class="fu">selectInput</span>(<span class="at">inputId =</span> <span class="st">"xvar"</span>,</span>
<span id="cb13-26"><a href="#cb13-26"></a>                <span class="at">label =</span> <span class="st">"Choose X Variable"</span>,</span>
<span id="cb13-27"><a href="#cb13-27"></a>                <span class="at">choices =</span> vars,</span>
<span id="cb13-28"><a href="#cb13-28"></a>                <span class="at">selected =</span> vars[[<span class="dv">2</span>]]),</span>
<span id="cb13-29"><a href="#cb13-29"></a></span>
<span id="cb13-30"><a href="#cb13-30"></a>    <span class="co"># create checkbox to optionally color by a categorical variable</span></span>
<span id="cb13-31"><a href="#cb13-31"></a>    <span class="fu">checkboxInput</span>(<span class="at">inputId =</span> <span class="st">"species"</span>,</span>
<span id="cb13-32"><a href="#cb13-32"></a>                  <span class="at">label =</span> <span class="st">"Color by Species"</span>,</span>
<span id="cb13-33"><a href="#cb13-33"></a>                  <span class="at">value =</span> <span class="cn">TRUE</span>)</span>
<span id="cb13-34"><a href="#cb13-34"></a>  ),</span>
<span id="cb13-35"><a href="#cb13-35"></a>  </span>
<span id="cb13-36"><a href="#cb13-36"></a>  <span class="co"># create tabs with spots for plots</span></span>
<span id="cb13-37"><a href="#cb13-37"></a>  <span class="fu">mainPanel</span>(</span>
<span id="cb13-38"><a href="#cb13-38"></a>    <span class="fu">tabsetPanel</span>(</span>
<span id="cb13-39"><a href="#cb13-39"></a>      <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"ggplot"</span>,</span>
<span id="cb13-40"><a href="#cb13-40"></a>               <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"plot1"</span>)),</span>
<span id="cb13-41"><a href="#cb13-41"></a>      <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"plotly"</span>,</span>
<span id="cb13-42"><a href="#cb13-42"></a>               <span class="fu">plotlyOutput</span>(<span class="at">outputId =</span> <span class="st">"plot2"</span>))</span>
<span id="cb13-43"><a href="#cb13-43"></a>    )</span>
<span id="cb13-44"><a href="#cb13-44"></a>  )</span>
<span id="cb13-45"><a href="#cb13-45"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Uses:</p>
<ul>
<li><code>fluidPage()</code>, <code>sidebarPanel()</code>, <code>mainPanel()</code> and <code>tabsetPanel()</code> to define the structure of the page(s).</li>
</ul>
</div><div class="column" style="width:40%;">
<blockquote>
<h4 id="automated-code-shinyuieditor">“Automated” code (shinyuieditor)</h4>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="fu">library</span>(plotly)</span>
<span id="cb14-3"><a href="#cb14-3"></a><span class="fu">library</span>(gridlayout)</span>
<span id="cb14-4"><a href="#cb14-4"></a><span class="fu">library</span>(bslib)</span>
<span id="cb14-5"><a href="#cb14-5"></a></span>
<span id="cb14-6"><a href="#cb14-6"></a><span class="co"># create named vector for mapping of labels to variable names</span></span>
<span id="cb14-7"><a href="#cb14-7"></a>vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Sepal Length (cm)"</span> <span class="ot">=</span> <span class="st">"Sepal.Length"</span>,</span>
<span id="cb14-8"><a href="#cb14-8"></a>          <span class="st">"Sepal Width (cm)"</span> <span class="ot">=</span> <span class="st">"Sepal.Width"</span>,</span>
<span id="cb14-9"><a href="#cb14-9"></a>          <span class="st">"Petal Length (cm)"</span> <span class="ot">=</span> <span class="st">"Petal.Length"</span>,</span>
<span id="cb14-10"><a href="#cb14-10"></a>          <span class="st">"Petal Width (cm)"</span> <span class="ot">=</span> <span class="st">"Petal.Width"</span>)</span>
<span id="cb14-11"><a href="#cb14-11"></a></span>
<span id="cb14-12"><a href="#cb14-12"></a>ui <span class="ot">&lt;-</span> <span class="fu">grid_page</span>(</span>
<span id="cb14-13"><a href="#cb14-13"></a>  <span class="at">layout =</span> <span class="fu">c</span>(</span>
<span id="cb14-14"><a href="#cb14-14"></a>    <span class="st">"header  header"</span>,</span>
<span id="cb14-15"><a href="#cb14-15"></a>    <span class="st">"sidebar plot  "</span></span>
<span id="cb14-16"><a href="#cb14-16"></a>  ),</span>
<span id="cb14-17"><a href="#cb14-17"></a>  <span class="at">row_sizes =</span> <span class="fu">c</span>(</span>
<span id="cb14-18"><a href="#cb14-18"></a>    <span class="st">"100px"</span>,</span>
<span id="cb14-19"><a href="#cb14-19"></a>    <span class="st">"1fr"</span></span>
<span id="cb14-20"><a href="#cb14-20"></a>  ),</span>
<span id="cb14-21"><a href="#cb14-21"></a>  <span class="at">col_sizes =</span> <span class="fu">c</span>(</span>
<span id="cb14-22"><a href="#cb14-22"></a>    <span class="st">"205px"</span>,</span>
<span id="cb14-23"><a href="#cb14-23"></a>    <span class="st">"1fr"</span></span>
<span id="cb14-24"><a href="#cb14-24"></a>  ),</span>
<span id="cb14-25"><a href="#cb14-25"></a>  <span class="at">gap_size =</span> <span class="st">"1rem"</span>,</span>
<span id="cb14-26"><a href="#cb14-26"></a>  <span class="fu">grid_card</span>(</span>
<span id="cb14-27"><a href="#cb14-27"></a>    <span class="at">area =</span> <span class="st">"sidebar"</span>,</span>
<span id="cb14-28"><a href="#cb14-28"></a>    <span class="fu">card_body</span>(</span>
<span id="cb14-29"><a href="#cb14-29"></a>      <span class="fu">selectInput</span>(</span>
<span id="cb14-30"><a href="#cb14-30"></a>        <span class="at">inputId =</span> <span class="st">"yvar"</span>,</span>
<span id="cb14-31"><a href="#cb14-31"></a>        <span class="at">label =</span> <span class="st">"Choose Y Variable"</span>,</span>
<span id="cb14-32"><a href="#cb14-32"></a>        <span class="at">choices =</span> vars,</span>
<span id="cb14-33"><a href="#cb14-33"></a>        <span class="at">selected =</span> vars</span>
<span id="cb14-34"><a href="#cb14-34"></a>      ),</span>
<span id="cb14-35"><a href="#cb14-35"></a>      <span class="fu">selectInput</span>(</span>
<span id="cb14-36"><a href="#cb14-36"></a>        <span class="at">inputId =</span> <span class="st">"xvar"</span>,</span>
<span id="cb14-37"><a href="#cb14-37"></a>        <span class="at">label =</span> <span class="st">"Choose X Variable"</span>,</span>
<span id="cb14-38"><a href="#cb14-38"></a>        <span class="at">choices =</span> vars[[<span class="dv">2</span>]]</span>
<span id="cb14-39"><a href="#cb14-39"></a>      ),</span>
<span id="cb14-40"><a href="#cb14-40"></a>      <span class="fu">checkboxInput</span>(</span>
<span id="cb14-41"><a href="#cb14-41"></a>        <span class="at">inputId =</span> <span class="st">"species"</span>,</span>
<span id="cb14-42"><a href="#cb14-42"></a>        <span class="at">label =</span> <span class="st">"Color by Species"</span>,</span>
<span id="cb14-43"><a href="#cb14-43"></a>        <span class="at">value =</span> <span class="cn">TRUE</span></span>
<span id="cb14-44"><a href="#cb14-44"></a>      )</span>
<span id="cb14-45"><a href="#cb14-45"></a>    )</span>
<span id="cb14-46"><a href="#cb14-46"></a>  ),</span>
<span id="cb14-47"><a href="#cb14-47"></a>  <span class="fu">grid_card_text</span>(</span>
<span id="cb14-48"><a href="#cb14-48"></a>    <span class="at">area =</span> <span class="st">"header"</span>,</span>
<span id="cb14-49"><a href="#cb14-49"></a>    <span class="at">content =</span> <span class="st">"Shiny Iris Explorer App!"</span>,</span>
<span id="cb14-50"><a href="#cb14-50"></a>    <span class="at">alignment =</span> <span class="st">"start"</span>,</span>
<span id="cb14-51"><a href="#cb14-51"></a>    <span class="at">is_title =</span> <span class="cn">FALSE</span></span>
<span id="cb14-52"><a href="#cb14-52"></a>  ),</span>
<span id="cb14-53"><a href="#cb14-53"></a>  <span class="fu">grid_card</span>(</span>
<span id="cb14-54"><a href="#cb14-54"></a>    <span class="at">area =</span> <span class="st">"plot"</span>,</span>
<span id="cb14-55"><a href="#cb14-55"></a>    <span class="fu">card_body</span>(</span>
<span id="cb14-56"><a href="#cb14-56"></a>      <span class="fu">tabsetPanel</span>(</span>
<span id="cb14-57"><a href="#cb14-57"></a>        <span class="fu">nav_panel</span>(</span>
<span id="cb14-58"><a href="#cb14-58"></a>          <span class="at">title =</span> <span class="st">"ggplot"</span>,</span>
<span id="cb14-59"><a href="#cb14-59"></a>          <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"plot1"</span>)</span>
<span id="cb14-60"><a href="#cb14-60"></a>        ),</span>
<span id="cb14-61"><a href="#cb14-61"></a>        <span class="fu">nav_panel</span>(</span>
<span id="cb14-62"><a href="#cb14-62"></a>          <span class="at">title =</span> <span class="st">"plotly"</span>,</span>
<span id="cb14-63"><a href="#cb14-63"></a>          <span class="fu">plotlyOutput</span>(<span class="at">outputId =</span> <span class="st">"plot2"</span>)</span>
<span id="cb14-64"><a href="#cb14-64"></a>        )</span>
<span id="cb14-65"><a href="#cb14-65"></a>      )</span>
<span id="cb14-66"><a href="#cb14-66"></a>    )</span>
<span id="cb14-67"><a href="#cb14-67"></a>  )</span>
<span id="cb14-68"><a href="#cb14-68"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Uses:</p>
<ul>
<li>Functions from <code>gridlayout</code> and <code>bslib</code> packages to define the structure of the page(s). These include <code>grid_page()</code>, <code>grid_card()</code>, etc.</li>
</ul>
</div>
</div>
</section>
<section id="comparison-of-methods-1" class="slide level2 smaller">
<h2>Comparison of methods</h2>
<blockquote>
<h3 id="commonalities">Commonalities</h3>
</blockquote>
<p><code>server</code>s are the EXACT SAME in both methods.</p>
<div class="fragment">
<p>Both use:</p>
<ul>
<li><code>{Type}Output()</code> functions.</li>
<li><code>{Type}Input()</code> functions.</li>
</ul>
</div>
<div class="fragment">
<blockquote>
<h3 id="strategy">Strategy</h3>
</blockquote>
<ul>
<li><p>Let <code>shinyuieditor</code> do the heavy lifting for the UI (e.g.&nbsp;tasks like adding defining the structure of the page, adding input controls, specifying where plots go, etc.) and step into the code when necessary for fine tuning.</p>
<ul>
<li>We don’t have to worry about how it does this, just need to know how to modify what we need.</li>
</ul></li>
<li><p>Code the <code>server</code> function as we normally would and easily add it to our app!</p></li>
</ul>
<p>
<script type="application/shiny-prerendered" data-context="server-start">
library(tidyverse)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
output$plot1 <- renderPlot({
  
  # create base plot
  p1 <- ggplot() +
    theme_bw()
  
  # add points layer
  # -> conditionally colored variable -> selected via user input
  if(input$species == TRUE){
    p1 <- p1 +
      geom_point(aes(x = .data[[input$xvar]],
                     y = .data[[input$yvar]],
                     color = Species),
                 data = iris)
  }
  else{
    p1 <- p1 +
      geom_point(aes(x = .data[[input$xvar]],
                     y = .data[[input$yvar]]),
                 data = iris)
  }
  
  print(p1)
})

</script>
 
<script type="application/shiny-prerendered" data-context="server-extras">
ojs_define <- function(..., .session = shiny::getDefaultReactiveDomain()) {
  quos <- rlang::enquos(...)
  vars <- rlang::list2(...)
  nm <- names(vars)
  if (is.null(nm)) {
    nm <- rep_len("", length(vars))
  }
  mapply(function(q, nm, val) {
    # Infer name, if possible
    if (nm == "") {
      tryCatch({
        nm <- rlang::as_name(q)
      }, error = function(e) {
        code <- paste(collapse = "\n", deparse(rlang::f_rhs(q)))
        stop("ojs_define() could not create a name for the argument: ", code)
      })
    }
    .session$output[[nm]] <- val
    outputOptions(.session$output, nm, suspendWhenHidden = FALSE)
    .session$sendCustomMessage("ojs-export", list(name = nm))
    NULL
  }, quos, nm, vars, SIMPLIFY = FALSE, USE.NAMES = FALSE)
  invisible()
}
</script>
</p>
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.8.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.8.0"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64]}},"value":[{"type":"character","attributes":{},"value":["base","bslib","cachem","cli","colorspace","compiler","datasets","digest","dplyr","ellipsis","evaluate","fansi","fastmap","forcats","generics","ggplot2","glue","graphics","grDevices","grid","gtable","hms","htmltools","httpuv","jquerylib","jsonlite","knitr","later","lifecycle","lubridate","magrittr","memoise","methods","mime","munsell","pillar","pkgconfig","promises","purrr","R6","Rcpp","readr","rlang","rmarkdown","sass","scales","shiny","stats","stringi","stringr","tibble","tidyr","tidyselect","tidyverse","timechange","tools","tzdb","utf8","utils","vctrs","withr","xfun","xtable","yaml"]},{"type":"character","attributes":{},"value":["4.3.2","0.6.0","1.0.8","3.6.1","2.1-0","4.3.2","4.3.2","0.6.33","1.1.4","0.3.2","0.23","1.0.5","1.1.1","1.0.0","0.1.3","3.4.4","1.6.2","4.3.2","4.3.2","4.3.2","0.3.4","1.1.3","0.5.7.9000","1.6.12","0.1.4","1.8.7","1.45","1.3.1","1.0.4","1.9.3","2.0.3","2.0.1","4.3.2","0.12","0.5.0","1.9.0","2.0.3","1.2.1","1.0.2","2.5.1","1.0.11","2.1.4","1.1.2","2.25","0.4.7","1.2.1","1.8.0","4.3.2","1.8.1","1.5.1","3.2.1","1.3.0","1.2.0","2.0.0","0.2.0","4.3.2","0.4.0","1.2.4","4.3.2","0.6.4","2.5.2","0.41","1.8-4","2.3.7"]}]}]}
</script>
<!--/html_preserve-->
<div class="footer footer-default">

</div>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="intro-shiny_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="intro-shiny_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="intro-shiny_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="intro-shiny_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="intro-shiny_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="intro-shiny_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="intro-shiny_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="intro-shiny_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="intro-shiny_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="intro-shiny_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1920,

        height: 1080,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>